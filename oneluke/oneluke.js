function moveleft(){$(this).off("click"),$length-1>current?$tape.animate({"margin-left":"-="+$width},$speed,function(){current++,$left_button.on("click",moveleft)}):current==$length-1&&($tape.css("margin-left",0),current=0,$tape.animate({"margin-left":"-="+$width},$speed,function(){current++,$left_button.on("click",moveleft)}))}function moveright(){$(this).off("click"),0==current?($tape.css("margin-left",-$last),current=$length-1,$tape.animate({"margin-left":"+="+$width},$speed,function(){current--,$right_button.on("click",moveright)})):current>0&&$tape.animate({"margin-left":"+="+$width},$speed,function(){current--,$right_button.on("click",moveright)})}var $slide=$(".js-slide"),$tape=$(".js-tape"),$slider_width=$(".js-container").width();$slide.css("width",$slider_width),$slide.first().clone().appendTo($tape);var current=0,$width=$(".js-slide").outerWidth(),$length=$(".js-slide").length,$total_width=$width*$length,$last=$total_width-$width,$speed=1e3,$left_button=$(".js-left"),$right_button=$(".js-right");$(window).resize(function(){$slider_width=$(".js-container").width(),$(".js-slide").css("width",$slider_width),$width=$(".js-slide").outerWidth(),$total_width=$width*$length,$last=$total_width-$width}),$left_button.on("click",moveleft),$right_button.on("click",moveright),$(window).resize(function(){var a=$width*current;$tape.css("margin-left",-a)});