(function(window,undefined){var jWps=function(selector,context){return new jWps.fn.init(selector,context)},_jWps=window.jWps,_$=window.$,document=window.document,userAgent=navigator.userAgent,toString=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty,push=Array.prototype.push,slice=Array.prototype.slice,indexOf=Array.prototype.indexOf;jWps.fn=jWps.prototype={init:function(selector,context){if(selector==undefined){return}
if(selector.nodeType||selector===window){this[0]=selector;this.length=1;return this}
if(selector==="body"&&!context){this.context=document;this[0]=document.body;this.selector="body";this.length=1;return this}
if(typeof selector==='string'){selector=jWps.find(selector,context)}
selector=jWps.merge(this,selector);return selector},selector:"",jWps:"0.0.1",length:0,find:function(selector){var i=0,oldthis=[],length=this.length;jWps.merge(oldthis,this);for(var n=0;n<length;n++){delete this[n]}
this.length=0;for(;i<length;i++){selector=jWps.find(selector,oldthis[i]);jWps.merge(this,selector)}
return this}}
jWps.fn.init.prototype=jWps.fn;jWps.extend=jWps.fn.extend=function(){var target=arguments[0]||{},i=1,length=arguments.length,deep=!1,options,name,src,copy;if(typeof target==="boolean"){deep=target;target=arguments[1]||{};i=2}
if(typeof target!=="object"&&!jWps.isFunction(target)){target={}}
if(length===i){target=this;--i}
for(;i<length;i++){if((options=arguments[i])!=null){for(var name in options){src=target[name];copy=options[name];if(target===copy){continue}
if(deep&&copy&&(jWps.isPlainObject(copy)||jWps.isArray(copy))){var clone=src&&(jWps.isPlainObject(src)||jWps.isArray(src))?src:jWps.isArray(copy)?[]:{};target[name]=jWps.extend(deep,clone,copy)}else if(copy!==undefined){target[name]=copy}}}}
return target};jWps.extend({merge:function(first,second){var i=first.length,j=0,l;if(i==undefined){i=0}
if(typeof second.length==="number"){for(l=second.length;j<l;j++){first[i++]=second[j]}}else{while(second[j]!==undefined){first[i++]=second[j++]}}
first.length=i;return first},isFunction:function(obj){return toString.call(obj)==="[object Function]"},isArray:function(obj){return toString.call(obj)==="[object Array]"},isInt:function(x){var y=parseInt(num);if(isNaN(y))return !1;return(x==y&&x.toString()==y.toString())},isPlainObject:function(obj){if(!obj||toString.call(obj)!=="[object Object]"||obj.nodeType||obj.setInterval){return !1}
if(obj.constructor&&!hasOwnProperty.call(obj,"constructor")&&!hasOwnProperty.call(obj.constructor.prototype,"isPrototypeOf")){return !1}
var key;for(key in obj){}
return key===undefined||hasOwnProperty.call(obj,key)},each:function(obj,callback){var name,i=0,length=obj.length;if(length===undefined){for(name in obj){if(callback.call(obj[name],name,obj[name])===!1)
break}}else for(var value=obj[0];i<length&&callback.call(value,i,value)!==!1;value=obj[++i]){}
return obj},clone:function clone(obj){var newObj={};for(var i in obj){newObj[i]=obj[i]}
return newObj},uaMatch:function(ua){ua=ua.toLowerCase();var match=/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||!/compatible/.test(ua)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"}},browser:{},idevice:/(iphone|ipad|ipod)/i.test(userAgent),iphone:/iphone/i.test(userAgent),ipod:/ipod/i.test(userAgent),ipad:/ipad/i.test(userAgent)});var browserMatch=jWps.uaMatch(userAgent);if(browserMatch.browser){jWps.browser[browserMatch.browser]=!0;jWps.browser.version=browserMatch.version}
if(jWps.browser.webkit){jWps.browser.safari=!0}
jWps.fn.extend({});jWps.extend({find:function(selector,context){context=context||document;var ret=[];if(/^([\.|#])?([\w-]+)$/.test(selector)){switch(selector.charAt(0)){case '#':ret=jWps.ID(selector,context);break;case '.':ret=jWps.CLASS(selector,context);break;default:ret=jWps.TAG(selector,context);break}}else{if(/\[name=['"]*((?:[\w\u00c0-\uFFFF\u005B\u005D-]|\\.)+)['"]*\]/.test(selector)){selector=/\[name=['"]*((?:[\w\u00c0-\uFFFF\u005B\u005D-]|\\.)+)['"]*\]/.exec(selector);ret=jWps.NAME(selector,context)}}
return ret}});jWps.extend({ID:function(selector,context){selector=selector.slice(1);var ret=document.getElementById(selector);return ret?[ret]:[]},CLASS:function(selector,context){selector=selector.slice(1);var nodes=context.getElementsByTagName('*'),i=0,node,ret=[];while(node=nodes[i++]){if(node.className==selector){ret.push(node)}}
return ret},TAG:function(selector,context){return context.getElementsByTagName(selector)},NAME:function(selector,context){selector=selector.slice(1);var nodes=context.getElementsByTagName('*'),i=0,node,ret=[];while(node=nodes[i++]){if(node.getAttribute("name")==selector){ret.push(node)}}
return ret}});if(document.getElementsByClassName){jWps.CLASS=function(selector,context){selector=selector.slice(1);return context.getElementsByClassName(selector)}};if(document.querySelectorAll&&!jWps.browser.safari){jWps.CLASS=function(selector,context){return context.querySelectorAll(selector)}};function now(){return(new Date).getTime()}
var expando="jWps"+now(),uuid=0,windowData={};jWps.extend({cache:{},expando:expando,noData:{"embed":!0,"object":!0,"applet":!0},data:function(elem,name,data){if(elem.nodeName&&jWps.noData[elem.nodeName.toLowerCase()]){return}
elem=elem==window?windowData:elem;var id=elem[expando],cache=jWps.cache,thisCache;if(!id&&typeof name==="string"&&data===undefined){return null}
if(!id){id=++uuid}
if(typeof name==="object"){elem[expando]=id;thisCache=cache[id]=jWps.extend(!0,{},name)}else if(!cache[id]){elem[expando]=id;cache[id]={}}
thisCache=cache[id];if(data!==undefined){thisCache[name]=data}
return typeof name==="string"?thisCache[name]:thisCache},removeData:function(elem,name){if(elem.nodeName&&jWps.noData[elem.nodeName.toLowerCase()]){return}
elem=elem==window?windowData:elem;var id=elem[expando],cache=jWps.cache,thisCache=cache[id];if(name){if(thisCache){delete thisCache[name];if(jWps.isEmptyObject(thisCache)){jWps.removeData(elem)}}}else{if(jWps.support.deleteExpando){delete elem[jWps.expando]}else if(elem.removeAttribute){elem.removeAttribute(jWps.expando)}
delete cache[id]}}});jWps.event={add:function(elem,types,handler){if(elem.nodeType===3||elem.nodeType===8){return}
if(elem.setInterval&&(elem!==window&&!elem.frameElement)){elem=window}
var data=jWps.data;var events=data(elem,"events")||data(elem,"events",[]),handle=data(elem,"handle")||data(elem,"handle",function(){jWps.event.handle.apply(arguments.callee.elem,arguments)});handle.elem=elem;jWps.each(types.split(/\s+/),function(index,type){var handlers=events[type];if(!handlers){handlers=events[type]=new Array();if(elem.addEventListener)
elem.addEventListener(type,handle,!1);else if(elem.attachEvent)
elem.attachEvent('on'+type,handle)}
handlers.push(handler)});elem=null},remove:function(elem,type,handler){if(elem.nodeType===3||elem.nodeType===8){return}
var data=jWps.data;var events=data(elem,"events");if(events){if(typeof(type)=='string'&&jWps.isArray(events[type])){if(jWps.isFunction(handler)){for(var i=0;i<events[type].length;i++){if(events[type][i]==handler){delete events[type][i];break}}}else{for(var i=0;i<events[type].length;i++){delete events[type][i]}}}else{for(var i in events){jWps.event.remove(elem,i)}
return}
for(var ret in events[type])break;if(!ret&&data(elem,"handle")){if(elem.removeEventListener)
elem.removeEventListener(type,data(elem,"handle"),!1);else if(elem.detachEvent)
elem.detachEvent("on"+type,data(elem,"handle"));}
ret=null;delete events[type]}},cancel:function(event){var e=event.originalEvent||event;if(e.preventDefault)
e.preventDefault();if(e.stopPropagation)
e.stopPropagation();e.cancelBubble=!0;e.returnValue=!1;return !1},handle:function(event){event=event||window.event;var data=jWps.data;var originalEvent=event;event=jWps.clone(originalEvent);event.originalEvent=originalEvent;if(!event.target)
event.target=event.srcElement||document;if(event.target.nodeType==3)
event.target=event.target.parentNode;if(!event.relatedTarget&&event.fromElement)
event.relatedTarget=event.fromElement==event.target
if(event.pageX==null&&event.clientX!=null){var doc=document.documentElement,body=document.body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc.clientLeft||0);event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc.clientTop||0)}
if(!event.which&&((event.charCode||event.charCode===0)?event.charCode:event.keyCode))
event.which=event.charCode||event.keyCode;if(!event.metaKey&&event.ctrlKey)
event.metaKey=event.ctrlKey;if(!event.which&&event.button)
event.which=(event.button&1?1:(event.button&2?3:(event.button&4?2:0)));if(jWps.ipad||jWps.iphone||jWps.ipod)event.which=1;var handlers=data(this,"events");if(!handlers||typeof(event.type)!='string'||!handlers[event.type]||!handlers[event.type].length){return}
try{for(var i=0;i<(handlers[event.type]||[]).length;i++){if(event.type=='mouseover'||event.type=='mouseout'){var parent=event.relatedElement;while(parent&&parent!=this)
try{parent=parent.parentNode}
catch(e){parent=this}
if(parent==this){continue}}
var ret=handlers[event.type][i].apply(this,arguments);if(ret===!1){jWps.event.cancel(event)}}}catch(e){alert(event.target.id+"."+event.type+": "+e.message)}}};jWps.fn.extend({'wheel':function(fn){if(!this[0])return;for(var i=0;i<this.length;i++){jWps.event.add(this[i],'mouseover',function(){var wheelHandle=function(event){var delta=0;if(!event)event=window.event;if(event.wheelDelta){delta=event.wheelDelta/120}else if(event.detail){delta=-event.detail/3}
jWps.event.cancel(event);fn(delta)}
if(window.addEventListener)
window.addEventListener('DOMMouseScroll',wheelHandle,!1);window.onmousewheel=document.onmousewheel=wheelHandle});jWps.event.add(this[i],'mouseout',function(){if(window.addEventListener)
window.addEventListener('DOMMouseScroll',function(){return !1},!1);window.onmousewheel=document.onmousewheel=null})}
return this}});jWps.each(["bind"],function(i,name){jWps.fn[name]=function(type,fn){var length=this.length;for(var i=0;i<length;i++){jWps.event.add(this[i],type,fn)}
return this}});jWps.each(["unbind"],function(i,name){jWps.fn[name]=function(type,fn){var length=this.length;for(var i=0;i<length;i++){jWps.event.remove(this[i],type,fn)}
return this}});jWps.fn.extend({'hover':function(fnOver,fnOut){if(!this[0])return;for(var i=0;i<this.length;i++){jWps.event.add(this[i],'mouseover',fnOver);jWps.event.add(this[i],'mouseout',fnOut||fnOver)}
return this}});jWps.fn.extend({'speeds':{slow:600,fast:200,_default:400},'animate':function(param,speed){if(!speed)speed='slow';if(param.colorFrom&&param.colorTo){if(/(\d+), (\d+), (\d+)/.test(param.colorFrom)){color=/(\d+), (\d+), (\d+)/.exec(param.colorFrom);param.colorFrom=jWps.dec2hex(parseInt(color[1]))+jWps.dec2hex(parseInt(color[2]))+jWps.dec2hex(parseInt(color[3]))}else if(/^#/.test(param.colorFrom)){param.colorFrom=param.colorFrom.slice(1)}
jWps.fn.animateTo(this[0],function(elem,progress){elem.style.color='#'+jWps.getColor(param.colorFrom,param.colorTo,100*progress)},jWps.fn.speeds[speed]||speed)}
if(param.backgroundColorFrom&&param.backgroundColorTo){param.backgroundColorFrom=jWps.fn.fixColor(param.backgroundColorFrom);param.backgroundColorTo=jWps.fn.fixColor(param.backgroundColorTo);jWps.fn.animateTo(this[0],function(elem,progress){elem.style.backgroundColor='#'+jWps.getColor(param.backgroundColorFrom,param.backgroundColorTo,100*progress)},jWps.fn.speeds[speed]||speed)}},fixColor:function(color){if(/(\d+), (\d+), (\d+)/.test(color)){color=/(\d+), (\d+), (\d+)/.exec(color);color=jWps.dec2hex(parseInt(color[1]))+jWps.dec2hex(parseInt(color[2]))+jWps.dec2hex(parseInt(color[3]))}else if(/^#/.test(color)){color=color.slice(1)}
return color},'animateTo':function(elem,fn,speed){var duration=speed||speeds._default;var start=new Date().getTime();setTimeout(function(){var now=(new Date().getTime())-start;var progress=now/duration;fn(elem,progress);if(progress<1)elem.timeid=setTimeout(arguments.callee,10)},10)},'stop':function(){if(this[0].timeid){clearTimeout(this[0].timeid)}
return this}});jWps.fn.extend({text:function(text){if(typeof text==="string"&&text!==undefined){this.append(document.createTextNode(text))}
return this},append:function(elem){if(this[0].nodeType===1){this[0].appendChild(elem)}
return this},prepend:function(elem,before){if(this[0].nodeType===1){this[0].insertBefore(elem,(before)?before:this[0].firstChild)}},before:function(elem){if(elem.nodeType===1){elem.parentNode.insertBefore(this[0],elem)}
return this},after:function(elem){if(elem.nodeType===1){elem.parentNode.insertBefore(this[0],elem.nextSibling)}
return this},parent:function(){if(this[0].nodeType===1){this[0]=(this[0].parentElement)?this[0].parentElement:this[0].parentNode}
return this},next:function(){if(this[0].nodeType===1){var elem=this[0];while((elem=elem.nextSibling)&&elem.nodeType!==1){}
this[0]=elem}
return this},prev:function(){if(this[0].nodeType===1){var elem=this[0];while((elem=elem.previousSibling)&&elem.nodeType!==1){}
this[0]=elem}
return this},lastSibling:function(){if(this[0].nodeType===1){var elem=this[0].parentNode.lastChild;while(elem.nodeType!=1&&elem.previousSibling!=null){elem=elem.previousSibling}
this[0]=elem}
return this},html:function(html){if(html==undefined)html='';for(var i=0;i<this.length;i++){this[i].innerHTML=html}
return this},remove:function(){var i=0,elem,l=this.length;for(;i<l;i++){elem=this[i];if(elem.parentNode){elem.parentNode.removeChild(elem)}}
return this},getPosition:function(){if(this[0]==undefined)return;var left=0,top=0,obj=this[0];do{left+=obj.offsetLeft+(obj.clientLeft||0);top+=obj.offsetTop+(obj.clientTop||0)}while(obj=obj.offsetParent);return{x:left,y:top}}});jWps.fn.extend({hasClass:function(selector){if(!this[0])return;if((new RegExp('(\\s|^)'+selector+'(\\s|$)')).test(this[0].className)){return !0}
return !1},addClass:function(selector){if(!this[0])return;for(var i=0;i<this.length;i++){if(!jWps(this[i]).hasClass(selector)){this[i].className=(this[i].className?this[i].className+' ':'')+selector}}
return this},removeClass:function(selector){if(!this[0])return;for(var i=0;i<this.length;i++){if(jWps(this[i]).hasClass(selector)){this[i].className=this[i].className.replace((new RegExp('(\\s|^)'+selector+'(\\s|$)')),'')}}
return this},toggleClass:function(first,second){if(this.hasClass(first)==!0){this.removeClass(first).addClass(second)}else{this.removeClass(second).addClass(first)}
return this},setStyle:function(name,value){if(typeof this[0]!="object")return;this[0].style[name]=typeof(value)=='number'&&!(/z-?index|font-?weight|opacity|zoom|line-?height/i).test(name)?value+'px':value},hide:function(){if(!this[0])return;for(var i=0;i<this.length;i++){this[i].style.display='none'}
return this},show:function(){if(!this[0])return;for(var i=0;i<this.length;i++){this[i].style.display='block'}
return this},toggle:function(){if(!this[0])return;for(var i=0;i<this.length;i++){(this[i].style.display=='block')?this[i].style.display='none':this[i].style.display='block'}
return this},setOpacity:function(value){if(!this[0])return;if(value>1)value=1;if(value<0)value=0;for(var i=0;i<this.length;i++){this[0].style.opacity=value;this[0].style.opacity='alpha(opacity='+value*100+')';this[0].style.opacity='-moz-opacity:'+value;this[0].style.opacity='khtml-opacity:'+value}},setSize:function(w,h,callback,time){if(!this[0])return;var duration=1000;if(time>0)duration=time;var start=new Date().getTime(),el=this[0];var old_w=el.clientWidth,old_h=el.clientHeight;setTimeout(function(){var now=(new Date().getTime())-start;var progress=now/duration;var width=(w-old_w)*progress+old_w;var height=(h-old_h)*progress+old_h;el.style.width=width+'px';el.style.height=height+'px';if(progress<1)setTimeout(arguments.callee,10);else{if(width<w||width>w)el.style.width=w+'px';if(height<h||height>h)el.style.height=h+'px';if(jWps.isFunction(callback))callback()}},10)},val:function(value){var elem=this[0];if(value!=undefined){elem.value=value}else{return elem.value}}});jWps.extend({replace:function(search,replace,obj){return obj.split(search).join(replace)},clientWidth:function(){return document.documentElement.clientWidth==0?document.body.clientWidth:document.documentElement.clientWidth},clientHeight:function(){return document.documentElement.clientHeight==0?document.body.clientHeight:document.documentElement.clientHeight},documentWidth:function(){return Math.max(document.documentElement.clientWidth,document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth)},documentHeight:function(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)},create:function(tag,p){var i,k,elem=document.createElement(tag);if(!elem)return !1;for(i in p){if(p.constructor.prototype[i]&&p[i]===p.constructor.prototype[i])continue;switch(i){case "id":elem.id=p[i];break;case "class":elem.setAttribute('class',p[i]);elem.setAttribute('className',p[i]);break;case "type":elem.setAttribute('type',p[i]);break;case "name":elem.setAttribute('name',p[i]);break;case "style":for(k in p[i]){if(p[i].constructor.prototype[k]&&p[i][k]===p[i].constructor.prototype[k])continue;elem.style[k]=p[i][k]}break;case "param":for(k in p[i]){if(p[i].constructor.prototype[k]&&p[i][k]===p[i].constructor.prototype[k])continue;try{el[k]=p[i][k]}catch(e){}}break}}
return elem},htmlspecialchars:function(str){str=str.toString();str=jWps.replace('&','&amp;',str);str=jWps.replace('<','&lt;',str);str=jWps.replace('>','&gt;',str);str=jWps.replace('"','&quot;',str);return str},htmlspecialchars_decode:function(str){if(!str)return '';str=str.toString();str=jWps.replace('&amp;','&',str);str=jWps.replace('&lt;','<',str);str=jWps.replace('&gt;','>',str);str=jWps.replace('&quot;','"',str);return str},openURL:function(href,target){if(href!==undefined){if(target=='blank'){window.open(href)}else{location.href=href}}},declension:function(count,expressions){var result;if(expressions.length<3)expressions[2]=expressions[1];count=count%100;if(count>=5&&count<=20){result=expressions[2]}else{count=count%10;if(count==1){result=expressions[0]}else if(count>=2&&count<=4){result=expressions[1]}else{result=expressions[2]}}
return result},bindReady:function(handler){var called=!1;function ready(){if(called)return;called=!0;handler()}
if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){ready()},!1)}else if(document.attachEvent){if(document.documentElement.doScroll&&window==window.top){function tryScroll(){if(called)return;if(!document.body)return;try{document.documentElement.doScroll("left");ready()}catch(e){setTimeout(tryScroll,0)}}
tryScroll()}
document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){ready()}})}
if(window.addEventListener)
window.addEventListener('load',ready,!1);else if(window.attachEvent)
window.attachEvent('onload',ready)},readyList:[],onDomReady:function(handler){if(!jWps.readyList.length){jWps.bindReady(function(){for(var i=0;i<jWps.readyList.length;i++){jWps.readyList[i]()}})}
jWps.readyList.push(handler)},addTag:function(obj,str1,str2){obj.focus();if(document.selection){var s=document.selection.createRange();if(s.text){s.text=str1+s.text+str2}else{obj.value=obj.value+str1+str2}
return !0}
else if(typeof(obj.selectionStart)=="number"){if(obj.selectionStart!=obj.selectionEnd){var start=obj.selectionStart;var end=obj.selectionEnd;s=obj.value.substr(start,end-start);obj.value=obj.value.substr(0,start)+str1+s+str2+obj.value.substr(end)}else{obj.value=obj.value+str1+str2}
return !0}
return !1},setCookie:function(name,value){var valueEscaped=escape(value);var expiresDate=new Date();expiresDate.setTime(expiresDate.getTime()+365*24*60*60*1000);var expires=expiresDate.toGMTString();var newCookie=name+"="+valueEscaped+"; path=/; expires="+expires;if(valueEscaped.length<=4000)document.cookie=newCookie+";"},getCookie:function(name){var prefix=name+"=";var cookieStartIndex=document.cookie.indexOf(prefix);if(cookieStartIndex==-1)return null;var cookieEndIndex=document.cookie.indexOf(";",cookieStartIndex+prefix.length);if(cookieEndIndex==-1)cookieEndIndex=document.cookie.length;return unescape(document.cookie.substring(cookieStartIndex+prefix.length,cookieEndIndex))},tpl_compare:function(template,params){for(var key in params){var value=params[key];template=jWps.replace('[#'+key+']',value,template)}
while(match=(/{\s*(\d)\s*:\s*sex\s*\|([^\]]+)}/g).exec(template)){var sex_text=match[2].split(";");template=template.split(match[0]).join((match[1]=='2')?jWps.trim(sex_text[1]):jWps.trim(sex_text[0]))}
while(match=(/{\s*(\d)\s*:\s*count\s*\|([^\]]+)}/g).exec(template)){var dec=match[2].split(";");var count=parseInt(match[1]);if(jWps.isRu(jWps.trim(dec[0]))){if(dec[2]=='')dec[2]=dec[1];var plural=(count%10==1&&count%100!=11)?0:((count%10>=2&&count%10<=4&&(count%100<10||count%100>=20))?1:2)}else{var plural=(count==1)?0:1}
template=template.split(match[0]).join(jWps.trim(dec[plural]))}
return template},isRu:function(str){for(var i=0;i<str.length;i++){if(!/[А-я0-9 ]/.test(str[i])){return !1}}
return !0},'dec2hex':function(dec){return dec.toString(16)},'hex2dec':function(hex){return parseInt(hex,16)},'getColor':function(start,end,percent){var
r1=jWps.hex2dec(start.slice(0,2)),g1=jWps.hex2dec(start.slice(2,4)),b1=jWps.hex2dec(start.slice(4,6)),r2=jWps.hex2dec(end.slice(0,2)),g2=jWps.hex2dec(end.slice(2,4)),b2=jWps.hex2dec(end.slice(4,6));percent=percent/100;r=Math.floor(r1+(percent*(r2-r1))+.5);g=Math.floor(g1+(percent*(g2-g1))+.5);b=Math.floor(b1+(percent*(b2-b1))+.5);return(jWps.dec2hex(r)+jWps.dec2hex(g)+jWps.dec2hex(b))},'addFavorite':function(elem){var
title=document.title,url=document.location;try{window.external.AddFavorite(url,title)}catch(e){try{window.sidebar.addPanel(title,url,"")}catch(e){if(typeof(opera)=="object"){elem.rel="sidebar";elem.title=title;elem.url=url;return !0}else{alert(getLang('add_favorite'))}}}
return !1},'getGMT':function(){var d=new Date();return(((d.getTimezoneOffset()/60)+1)/-1)},'changeRegion':function(theme){jWps.setCookie('Theme',theme);var ajax=new Ajax();ajax.post({'module':'region','theme':theme},function(){location.reload()})},'trim':function(text){return(text||"").replace(/^\s+|\s+$/g,"")},'loc':{'set':function(newloc){if(!!(window.history&&history.pushState)){history.pushState({},'',newloc)}else{location.hash=newloc}}}});jWps.fn.extend({'spoiler':function(){var spoilerBox;while(spoilerBox=(this[0].parentElement)?this[0].parentElement:this[0].parentNode){if(/(spoilerBox)/.test(spoilerBox.className)){spoilerBox.className=(spoilerBox.className=='spoilerBox')?'spoilerBoxOpen':'spoilerBox';break}}}});window.jWps=jWps})(window);var newAjax=Ajax=function(){var _t=this,xhr=null,url="/ajax.php",global=!0,dataType="json",contentType="application/x-www-form-urlencoded",processData=!0,async=!0
strquery='',savequery={};var cache={'query':[],'callback':[]},blocked=0;this.onStart=function(){};this.onError=function(){};this.onComplete=function(){};this.callback=null;this.timeout=null;this.setup=function(s){if(s.url!==undefined){url=s.url}
if(s.dataType!==undefined){dataType=s.dataType}
if(typeof s.onStart==='function'){this.onStart=s.onStart}
if(typeof s.onError==='function'){this.onError=s.onError}
if(typeof s.onComplete==='function'){this.onComplete=s.onComplete}}
try{xhr=new XMLHttpRequest()}catch(trymicrosoft){try{xhr=new ActiveXObject("Msxml2.XMLHTTP")}catch(othermicrosoft){try{xhr=new ActiveXObject("Microsoft.XMLHTTP")}catch(failed){xhr=null}}}
var readystatechange=function(){if(xhr.readyState!=4)return;clearTimeout(_t.timeout);if(xhr.status>=200&&xhr.status<400){var data=(dataType=='json')?json(xhr.responseText):xhr.responseXML;var text=xhr.responseText;if(_t.callback){_t.callback(data,text,savequery);readyCache()}
else if(_t.onComplete){_t.onComplete(data,text,savequery);readyCache()}}else{if(_t.onError){_t.onError(strquery,savequery);readyCache()}}}
function readyCache(){clearTimeout(_t.timeout);blocked=0;if(cache.query.length>0){cache.query.reverse();cache.callback.reverse();_t.post(cache.query.pop(),cache.callback.pop());cache.query.reverse();cache.callback.reverse()}}
this.post=function(query,fn,nocache){if(nocache)blocked=0;if(blocked==0){if(typeof fn==='function'){this.callback=fn}else if(typeof fn==='object'){if(typeof fn.onComplete==="function"){this.callback=fn.onComplete}else this.callback=null}else this.callback=null;blocked=1;if(typeof fn==='object'){if(typeof fn.onStart==="function")fn.onStart(query)}else if(_t.onStart){_t.onStart(query)}
savequery=query;strquery=query2url(query)+'&aaaaaa='+Math.random();xhr.open("POST",url,async);xhr.onreadystatechange=readystatechange;xhr.setRequestHeader("Content-Type",contentType);xhr.send(strquery);clearTimeout(_t.timeout)}else{cache.query[cache.query.length]=query;cache.callback[cache.callback.length]=fn}};function json(text){var et;try{et=eval('('+text+')')}catch(failed){}
return et}
function query2url(qa){var query=[],q,i=0;for(var key in qa){if(qa[key]===undefined||qa[key]===null||typeof(qa[key])=='function')continue;if(jWps.isArray(qa[key])){for(var i=0;i<qa[key].length;++i){if(qa[key][i]===undefined||qa[key][i]===null||typeof(qa[key][i])=='function')continue;query.push(encodeURIComponent(key)+'[]='+encodeURIComponent(qa[key][i]))}}else{query.push(encodeURIComponent(key)+'='+encodeURIComponent(qa[key]))}}
query.push(encodeURIComponent('dataType')+'='+encodeURIComponent(dataType));return query.join('&')}}
var ajax=new Ajax();var trans=[];for(var i=0x410;i<=0x44F;i++)
trans[i]=i-0x350;trans[0x401]=0xA8;trans[0x451]=0xB8;trans[0x457]=0xBF;trans[0x407]=0xAF;trans[0x456]=0xB3;trans[0x406]=0xB2;trans[0x404]=0xBA;trans[0x454]=0xAA;var escapeOrig=window.escape;function escapeurl(str){if(jWps.isInt)str=String(str);str=str.replace(/\+/g,'%2B',str);var ret=[];for(var i=0;i<str.length;i++){var n=str.charCodeAt(i);if(typeof trans[n]!='undefined')
n=trans[n];if(n<=0xFF)
ret.push(n)}
return escapeOrig(String.fromCharCode.apply(null,ret))}
jWps.setCookie('gmt',jWps.getGMT());var Input={placeholder:function(input,color){if(!input)return null;if(input.placeholder&&'placeholder' in document.createElement(input.tagName))return null;var default_color=input.style.color;color=color||default_color;var placeholder=input.getAttribute('placeholder');if(input.value===''||input.value==placeholder){input.value=placeholder;input.style.color=color;input.setAttribute('data-placeholder-visible','true')}
jWps.event.add(input,'focus',function(){input.style.color=default_color;if(input.getAttribute('data-placeholder-visible')){input.setAttribute('data-placeholder-visible','');input.value=''}});jWps.event.add(input,'blur',function(){if(input.value===''){input.setAttribute('data-placeholder-visible','true');input.value=placeholder;input.style.color=color}else{input.style.color=default_color;input.setAttribute('data-placeholder-visible','')}});return input},verifier:function(){var inputs=get();if(inputs.length>0){if(!inputs.verifier_init){for(var i=0;i<inputs.length;i++){jWps(inputs[i]).bind('blur',handler_input);jWps(inputs[i]).bind('keyup',handler_input);jWps(inputs[i]).bind('change',handler_input);inputs[i].form.onsubmit=function(){return handler_form(this)};inputs.verifier_init=!0}}}
function handler_form(elem){var inputs=get(elem);if(check_all(inputs)){return !0}
return !1}
function handler_input(e){var key=e.keyCode||e.charCode;if(key==37||key==39||key==8){return}
check(this,e)}
function get(context){if(!context)context=document;var temp=context.getElementsByTagName('*'),i=0,node,ret=[];while(node=temp[i++]){if(node.getAttribute('verifier')){ret.push(node)}}
return ret}
function check_all(inputs){var ret=!0;for(var i=0;i<inputs.length;i++){if(!check(inputs[i])){ret=!1}}
return ret}
function check(input,e){var
ret=!0,not_empty=!1,not_null=!1,number=!1,email=!1,checked=!1,selected=!1;var verifiers=input.getAttribute('verifier').split('|');for(var i=0;i<verifiers.length;i++){switch(verifiers[i]){case 'not_empty':{not_empty=!0;break}
case 'not_null':{not_null=!0;break}
case 'number':{number=!0;break}
case 'email':{email=!0;break}
case 'checked':{checked=!0;break}
case 'selected':{selected=!0;break}}}
if(number){input.value=input.value.replace(/[^0-9]/g,"")}
if(not_null&&parseInt(input.value)==0){input.value=''}
if(email){if(e&&e.type=='keyup'){return !0}
input.value=trim(input.value);if(input.value==''&&!not_empty){return !0}
if(!/^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/.test(input.value)){ret=!1;show(input)}else{hide(input)}}
if(not_null||not_empty){if(trim(input.value)==''){ret=!1;show(input)}else{hide(input)}}
if(checked){if(!input.checked){ret=!1;show(input)}else{hide(input)}}
if(selected){try{if(input.options[0].selected){ret=!1;show(input)}else{hide(input)}}catch(e){ret=!1;show(input)}}
return ret}
function show(elem){if(!elem.verifier_msg_elem){elem.verifier_msg_elem=document.createElement('DIV');elem.verifier_msg_elem.className='field_error';elem.verifier_msg_elem.innerHTML=elem.getAttribute('verifier_msg');elem.parentNode.insertBefore(elem.verifier_msg_elem,elem.nextSibling)}else{elem.verifier_msg_elem.style.display='block'}
jWps(elem).addClass('error')}
function hide(elem){if(elem.verifier_msg_elem){elem.verifier_msg_elem.style.display='none'}
jWps(elem).removeClass('error')}
function trim(text){return(text||"").replace(/^\s+|\s+$/g,"")}}};jWps.onDomReady(function(){Input.verifier();var nodes=document.getElementsByTagName('*'),i=0,node,elemets=[];while(node=nodes[i++]){if((node.tagName=='INPUT'&&node.type=='text')||node.tagName=='TEXTAREA'){if(node.getAttribute('placeholder')){elemets.push(node)}}}
if(!elemets.length)return null;for(var i=0;i<elemets.length;i++){Input.placeholder(elemets[i])}});if(!0&&1==2){var wps_history=!!(window.history&&history.pushState);var wps_history_curr=location.href;var wps_history_hash=location.href.split('#')[1];if(wps_history_hash&&wps_history_hash!==''&&!/module=search/.test(location.href)){location.href=wps_history_hash}}
var wps_history_busy=!1;function wps_history_set(newloc){wps_history?history.pushState(null,null,newloc):location.hash=newloc;wps_history_curr=newloc}
function wps_history_checker(){if(wps_history_busy)return !1;wps_history_busy=!0;url_checker_busy=!0;var wps_history_new=location.href;var wps_history_new_hash=location.href.split('#')[1];if(wps_history_new_hash&&wps_history_new_hash!==''){wps_history_new=wps_history_new_hash}
if(wps_history_curr!==wps_history_new){wps_page(null,wps_history_new,!0);wps_history_curr=wps_history_new}
wps_history_busy=!1}
function wps_page(event,elem,no_history){if(event){jWps.event.handle.apply(arguments.callee.event,arguments);if(event.which==1){jWps.event.cancel(event)}else{return}}
var page_href=(typeof elem==='string')?elem:elem.href;var frame1=wps_cframe('wps_pageload_wrap','javascript:;');var frame2=wps_cframe('wps_pageload2',page_href);document.body.appendChild(frame1);var doc1=wps_frameDoc(frame1);doc1.write('<html><head></head><body></body></html>');doc1.body.appendChild(frame2);frame2.onload=function(){if(frame2.contentWindow.document.location.href=='about:blank')return;var wps_pagecontent=frame2.contentWindow.document.getElementById('wps_pagecontent');if(wps_pagecontent){document.getElementById('wps_content').innerHTML=wps_pagecontent.innerHTML;if(!no_history)wps_history_set(page_href)}
document.body.removeChild(frame1)}
frame2.contentWindow.document.location.replace(page_href+'&pageload=1&aaaaaa='+Math.random())}
function wps_cframe(name){var ifrstr=jWps.browser.msie&&!1?'<iframe name="'+name+'">':'iframe'
var cframe=document.createElement(ifrstr)
cframe.id=name;cframe.setAttribute("name",name);with(cframe.style){position="absolute";left=top="0px";height=width="1px";visibility="hidden"}
return cframe}
function wps_frameDoc(frame){var doc;if(frame.contentDocument)doc=frame.contentDocument;else if(frame.contentWindow)doc=frame.contentWindow.document;else if(frame.document)doc=frame.document;return doc}
function wps_form_message(elem,message,timeout){return wps_alert_message(message);elem=document.getElementById(elem);elem.innerHTML=message;elem.style.display='block';setTimeout(function(){elem.style.display='none'},(timeout)?timeout:4000)}
function wps_alert_message(message,type,timeout){if(typeof type=='undefined')
type='notice';var item="alert_message_"+(new Date()).getTime();$('body').append("<div id='"+item+"' class='alert_message alert_message-"+type+"'>"+message+"</div>");$("#"+item).fadeIn(400);$("#"+item).on('click',function(){$(this).fadeOut(300)});setTimeout(function(){$("#"+item).fadeOut(300)},(timeout)?timeout:8000)}
function showInfoBox(type){try{var popup_box=new PopupBox('','',{Close:{title:getLang('close')}},620);popup_box.show();ajax.post({module:'common',act:'showInfo',type:type},function(data){popup_box.setData(data.caption,data.html)})}catch(e){}}
jWps.onDomReady(function(){setTimeout(function(){var p_totop=document.getElementById('p_totop');if(p_totop){var offset_top=document.body.scrollTop||document.documentElement.scrollTop;if(offset_top<=100){p_totop.style.display='none'}else{p_totop.style.display='block';p_totop.onclick=function(){document.documentElement.scrollTop=document.body.scrollTop=0}}
setTimeout(arguments.callee,100)}},100);if(jWps.idevice){jWps('body').addClass('apple')}});function getSiblingIds(elem){var after,before;after=before=elem;while((after=after.previousSibling)&&after.nodeType!==1){}
while((before=before.nextSibling)&&before.nodeType!==1){}
return{after:after?after.id.match(/(\d+)/)[1]:0,before:before?before.id.match(/(\d+)/)[1]:0}}
function getLang_old(code){if(Lang[code]){code=Lang[code]}
return code}
function explode(delimiter,string){var emptyArray={0:''};if(arguments.length!=2||typeof arguments[0]=='undefined'||typeof arguments[1]=='undefined'){return null}
if(delimiter===''||delimiter===!1||delimiter===null){return !1}
if(typeof delimiter=='function'||typeof delimiter=='object'||typeof string=='function'||typeof string=='object'){return emptyArray}
if(delimiter===!0){delimiter='1'}
return string.toString().split(delimiter.toString())}
function getLang(code,params){if(Lang[code]){code=Lang[code]}else{var arr=explode(':',code);if(typeof Lang[arr[0]]!='undefined')
code=Lang[arr[0]];else if(typeof arr[1]!='undefined')
code=arr[1]}
if(params){for(var key in params){var value=params[key];code=jWps.replace('[#'+key+']',value,code)}
while(match=(/{\s*(\d+)\s*:\s*sex\s*\|([^\]]+)}/g).exec(code)){var sex_text=match[2].split(";");code=code.split(match[0]).join((match[1]=='2')?jWps.trim(sex_text[1]):jWps.trim(sex_text[0]))}
while(match=(/{\s*(\d+)\s*:\s*count\s*\|([^\]]+)}/g).exec(code)){var dec=match[2].split(";");var count=parseInt(match[1]);if(jWps.isRu(jWps.trim(dec[0]))){if(dec[2]=='')dec[2]=dec[1];var plural=(count%10==1&&count%100!=11)?0:((count%10>=2&&count%10<=4&&(count%100<10||count%100>=20))?1:2)}else{var plural=(count==1)?0:1}
code=code.split(match[0]).join(jWps.trim(dec[plural]))}}
return code}
function $GL(code,params){return getLang(code,params)}
function hover(event,elem){if(event.type=='mouseover'){jWps(elem).addClass('hover')}
if(event.type=='mouseout'){jWps(elem).removeClass('hover')}}
function each(object,callback){var name,i=0,length=object.length;if(length===undefined){for(name in object)
if(callback.call(object[name],name,object[name])===!1)
break}else{for(var value=object[0];i<length&&callback.call(value,i,value)!==!1;value=object[++i]){}}
return object}
Function.prototype.bind=function(){var func=this,args=Array.prototype.slice.call(arguments);var obj=args.shift();return function(){var curArgs=Array.prototype.slice.call(arguments);return func.apply(obj,args.concat(curArgs))}}
Function.prototype.extBind=function(){var func=this,args=arguments;return function(){var argsArray=[];each(args,function(i,obj){argsArray[i]=obj});var obj=argsArray.shift(),currArgs=[];each(arguments,function(i,obj){currArgs[i]=obj});return func.apply(obj,currArgs.concat(argsArray))}}
function LOG(text){window.console.log(text)}